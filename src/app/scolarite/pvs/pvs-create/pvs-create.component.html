<div class="container-fluid">
  <div class="card">
    <div class=" card-header card-text fa fa-pencil" align="center"><B>UPLOAD PV</B></div>
    <div class="card-body">
      <div class="form-group">
        <!--<div class="input-group input-group-sm">-->
        <!--<div class="input-group-prepend"><span align="center" class="input-group-text"-->
        <!--style="width: 90px"><b>FILE</b></span></div>-->
        <!--<input type="file" class="form-control input-group-sm" placeholder="Semestre" [(ngModel)]="pvCreate.path"/>-->
        <!--</div>-->
        <div class="form-group">
          <div class="input-group">
            <div class="input-group-prepend"><span align="center" class="input-group-text"
                                                   style="width: 90px"><b>FILE</b></span></div>
            <div class="custom-file">
              <input type="file" class="custom-file-input" [(ngModel)]="pvCreate.path" required/>
              <label class="custom-file-label">{{pvCreate.path}}</label>
            </div>
          </div>
          <br>
          <div class="input-group input-group w-100">
            <div class="input-group-prepend"><span align="center" class="input-group-text"
                                                   style="width: 90px"><b>Filiere</b></span></div>
            <input type="text" class="form-control " placeholder="Col debut des donnees"
                   [(ngModel)]="pvCreate.refFiliere"
            />
          </div>
          <br>
          <div class="input-group input-group w-100">
            <div class="input-group-prepend"><span align="center" class="input-group-text"
                                                   style="width: 90px"><b>Semestre</b></span></div>
            <input type="text" class="form-control " placeholder="Col debut des donnees"
                   [(ngModel)]="pvCreate.refSemestre"
            />
          </div>
        </div>
        <div class="form-inline">
          <div class="input-group input-group-sm w-50">
            <div class="input-group-prepend"><span align="center" class="input-group-text"
                                                   style="width: 90px"><b>START COL</b></span></div>
            <input type="text" class="form-control " placeholder="Col debut des donnees"
                   [(ngModel)]="pvCreate.startCol"
                   [disabled]="pvCreate.checkBoxState == false"/>
          </div>
          <div class="input-group input-group-sm w-50">
            <div class="input-group-prepend"><span align="center" class="input-group-text"
                                                   style="width: 90px"><b>LINE</b></span></div>
            <input type="text" class="form-control " placeholder="Ligne debut de lecture" [(ngModel)]="pvCreate.line"
                   [disabled]="pvCreate.checkBoxState == false"/>
          </div>
          <br>
          <div class="input-group input-group-sm w-50">
            <div class="input-group-prepend"><span align="center" class="input-group-text"
                                                   style="width: 90px"><b>MODS LINE</b></span></div>
            <input type="text" class="form-control " placeholder="ligne debut des modules"
                   [(ngModel)]="pvCreate.modsLine"
                   [disabled]="pvCreate.checkBoxState == false"/>
          </div>

          <div class="input-group input-group-sm w-50">
            <div class="input-group-prepend"><span align="center" class="input-group-text"
                                                   style="width: 90px"><b>MODS COL</b></span></div>
            <input type="text" class="form-control " placeholder="Col debut des modules"
                   [(ngModel)]="pvCreate.modsCol"
                   [disabled]="pvCreate.checkBoxState == false"/>
          </div>
          <br>
          <div class="checkbox" align="center">
            <span align="center" class="input-group-text"
                  style="width: 150px; background-color: lightyellow; font-style: revert">
            <input type="checkbox" class="form-control "
                   [(ngModel)]="pvCreate.checkBoxState"/><b>ENABLE INPUTS</b></span>
          </div>
        </div>
      </div>
      <div class="form-group">
        <button type="submit" class="btn btn-primary btn-md fa fa-upload" (click)="create()"><b>Upload</b></button>
      </div>
    </div>
  </div>
  <div class="card">
    <ngx-spinner
      bdColor="rgba(51,51,51,0.8)"
      size="medium"
      color="#fff"
      type="ball-scale-multiple">
      <p style="font-size: 20px; color: white"><b>Please wait..</b></p>
    </ngx-spinner>
    <div class="card-header card-text fa fa-list" align="center"><b> Liste des notes </b></div>
    <div class="card-body">
      <div class="table-wrapper-scroll-y my-custom-scrollbar">
        <table class="table table-sm table-bordered table-hover table-striped ">
          <thead class="thead-light">
          <tr>
            <th rowspan="2" colspan="1">CNE</th>
            <th rowspan="2" colspan="1">NOM</th>
            <th rowspan="2" colspan="1">PRENOM</th>
            <th *ngFor="let n of modules" rowspan="1" colspan="3" align="center">{{ n }}</th>
            <th rowspan="2" colspan="1">TOTAL</th>
            <th rowspan="2" colspan="1">MOYENNE</th>
            <th rowspan="2" colspan="1">NMV</th>
            <th rowspan="2" colspan="1">RESULTAT</th>
            <th rowspan="2" colspan="1">ETAT</th>
            <th rowspan="2" colspan="1">ACTIONS</th>
          </tr>
          <tr>
            <th>ptJury</th>
            <th>NOTE</th>
            <th>RES</th>
            <th>ptJury</th>
            <th>NOTE</th>
            <th>RES</th>
            <th>ptJury</th>
            <th>NOTE</th>
            <th>RES</th>
            <th>ptJury</th>
            <th>NOTE</th>
            <th>RES</th>
            <th>ptJury</th>
            <th>NOTE</th>
            <th>RES</th>
            <th>ptJury</th>
            <th>NOTE</th>
            <th>RES</th>
          </tr>
          </thead>
          <tbody *ngFor="let p of pvs" [ngClass]="{'negative': p.state == 'Good', 'noteorange': p.state == 'error'}">
          <tr>
            <td>{{ p.refEtudiant }}</td>
            <td>{{ p.nom }}</td>
            <td>{{ p.prenom }}</td>
            <ng-container *ngFor="let m of p.noteModulaireVos">
              <td>{{ m.ptJury }}</td>
              <td>{{ m.mention }}</td>
              <td>{{ m.etat }}</td>
            </ng-container>
            <td>{{ p.total }}</td>
            <td>{{ p.note }}</td>
            <td>{{ p.nbrModuleValide }}</td>
            <td>{{ p.etat }}</td>
            <td>{{ p.state }}</td>
            <td>
              <button type="button" class="btn btn-primary btn-sm fa fa-edit" data-toggle="modal"
                      data-target="#exampleModalCenter"></button>
              <button type="button" class="btn btn-danger btn-sm fa fa-trash" (click)="deleteItem(n)"></button>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
      <div align="center">
        <button type="button" class="btn btn-outline-success btn-md" (click)="saveAll()"><B>Valider</B></button>
        <button type="button" class="btn btn-outline-secondary btn-md" (click)="deleteAll()"><b> Clear</b>
        </button>
      </div>
    </div>

  </div>

</div>




